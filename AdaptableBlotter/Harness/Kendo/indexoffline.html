<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Adaptable Blotter Kendo Demo</title>

    <!--we use the JS and CSS CDN so we do no need to d/l or store them locally and maintain versions.... Quite cool!!-->
    <script src="Offline/jquery-1.12.4.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="Offline/kendo.common.min.css" />
    <link rel="stylesheet" href="Offline/kendo.rtl.min.css" />
    <link rel="stylesheet" href="Offline/kendo.silver.min.css" />
    <link rel="stylesheet" href="Offline/kendo.mobile.all.min.css" />
    <script src="Offline/kendo.all.min.js"></script>

    <link href="adaptableblotter/adaptableblotter-style.css" rel="stylesheet" />
    <link href="KendoStyleSheet.css" rel="stylesheet" />

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="Offline/css/bootstrap.min.css">

    <!-- Optional theme -->
    <link rel="stylesheet" href="Offline/css/bootstrap-theme.min.css">
    <script src="adaptableblotter/harness-bundle.js"></script>
    <script src="indexharnesskendo.js"></script>
</head>

<body>
    <div>
        <div id="content" style="margin:15px;"></div>
</div>

<script src="adaptableblotter/adaptableblotterkendo-bundle.js"></script>
<p/>
<div id="grid"></div>

<script>
    InitBlotter()
<<<<<<< HEAD
    function handleClickEdit() {
        //     InitBlotter()
    }



    function InitBlotter() {
        var dataGen = new harness.DataGenerator();
        var trades = dataGen.getTrades();


              $("#grid")
            .kendoGrid({
                dataSource: {
                    //  pageSize: 100,
                    data: trades,
                    schema: {
                        model: {
                            fields: {
                                tradeId: { type: "number" },
                                notional: { type: "number" },
                                counterparty: { type: "string" },
                                currency: { type: "string" },
                                country: { type: "string" },
                                changeOnYear: { type: "number" },
                                price: { type: "number" },
                                bidOfferSpread: { type: "number" },
                               bid: { type: "number" , editable: false },
                                ask: { type: "number" , editable: false },
                                tradeDate: { type: "date" },
                                isLive: { type: "boolean" },
                                fitchRating: { type: "string" },
                                moodysRating: { type: "string" },
                                settlementDate: { type: "date" },
                                bloombergAsk: { type: "number" },
                                bloombergBid: { type: "number" },
                                percentChange: { type: "number" },
                                bookingGuid: { type: "string" },
                                lastUpdated: { type: "date" },
                                lastUpdatedBy: { type: "string" }
                            }
                        }
                    }
                },
                columns:
                [
               { field: "tradeId", title: "ID" },
                    { field: "notional", title: "Notional", format: "{0:c0}", attributes: { style: "text-align:right;" } },
                    { field: "counterparty", title: "Counterparty", filterable: { multi: true, search: true } },
                    { field: "currency", title: "Currency", width: 100 },
                    { field: "country", title: "Country", filterable: { multi: true, search: true }, width: 200 },
                    { field: "tradeDate", title: "Trade Date", format: "{0:dd MMM yyyy}", width: 200 },
                    { field: "settlementDate", title: "Settlement Date", format: "{0:dd MMM yyyy}" },
                    { field: "fitchRating", title: "Fitch", filterable: { multi: true, search: true, search: true } },
                    { field: "moodysRating", title: "Moodys" },
                    { field: "price", title: "Price", format: "{0:n4}", attributes: { class: "numberColumn" }, editor: setEditDecimals },
                    { field: "bidOfferSpread", title: "Bid Offer Spread", format: "{0:n4}", attributes: { class: "numberColumn" }, editor: setEditDecimals },
                    { field: "bid", title: "Bid", format: "{0:n4}", attributes: { class: "numberColumn" }, editor: setEditDecimals },
                    { field: "ask", title: "Ask", format: "{0:n4}", attributes: { class: "numberColumn" }, editor: setEditDecimals },
                    { field: "bloombergBid", title: "Bloomberg Bid", format: "{0:n4}", attributes: { class: "numberColumn" }, editor: setEditDecimals },
                    { field: "bloombergAsk", title: "Bloomberg Ask", format: "{0:n4}", attributes: { class: "numberColumn" }, editor: setEditDecimals },
                    { field: "isLive", title: "Is Live"},
                    { field: "changeOnYear", title: "Change On Year", format: "{0:n4}", attributes: { class: "numberColumn" }, editor: setEditDecimals },
                      { field: "percentChange", title: "Percent Change", format: "{0:p}", attributes: { class: "numberColumn" } },
                 { field: "lastUpdated", title: "Last Update", format: "{0:dd MMM yyyy}", width: "450px" },
                    { field: "lastUpdatedBy", title: "Last Updated By" }
              ],
                selectable: "multiple cell",
                sortable: true,
                reorderable: true,
                navigatable: true,
                resizable: true,
                scrollable: false,
                filterable: true,
                editable: true,
                columnMenu: false,
                /*{
                       filterable: false,
    messages: {
      columns: "Choose columns",
      filter: "Apply filter",
      sortAscending: "Sort (asc)",
      sortDescending: "Sort (desc)"
    },
    */

            });
        var grid = $("#grid").data("kendoGrid");
        var container = document.getElementById('content');
        var blotter = new adaptableblotterkendo.AdaptableBlotter(grid, container);
    }

    function setEditDecimals(container, options) {
        $("<input name='" + options.field + "'/>")
            .appendTo(container)
            .kendoNumericTextBox({ decimals: 4 });
    }

=======
>>>>>>> 1b95b002f07e8ecc974e27ec580b71720842ee29
</script>

</body>

</html>