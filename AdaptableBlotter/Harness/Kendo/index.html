<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Adaptable Blotter Kendo Demo</title>

    <!--we use the JS and CSS CDN so we do no need to d/l or store them locally and maintain versions.... Quite cool!!-->
    <script src="https://code.jquery.com/jquery-1.12.4.js" integrity="sha256-Qw82+bXyGq6MydymqBxNPYTaUXXq7c8v3CwiYwLLNXU=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.2.714/styles/kendo.common.min.css" />
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.2.714/styles/kendo.rtl.min.css" />
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.2.714/styles/kendo.silver.min.css" />
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.2.714/styles/kendo.mobile.all.min.css" />
    <script src="http://kendo.cdn.telerik.com/2016.2.714/js/kendo.all.min.js"></script>
    <link href="StyleSheet.css" rel="stylesheet" />

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/latest/css/bootstrap.min.css">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/latest/css/bootstrap-theme.min.css">
    <script src="adaptableblotter/harness-bundle.js"></script>
</head>

<body>
    <h2>Adaptable Blotter HTML5 Demo (Kendo)</h2>
    <div id="content"></div>

    <script src="adaptableblotter/adaptableblotterkendo-bundle.js"></script>

    <div id="grid"></div>

    <script>
    var dataGen = new harness.DataGenerator();
    var trades = dataGen.getTrades();
    $("#grid")
        .kendoGrid({
            dataSource: {
                data: trades,
                schema: {
                    model: {
                        field: {
                            tradeId: { type: "number" },
                            notional: { type: "number" },
                            deskId: { type: "number" },
                            counterparty: { type: "string" },
                            currency: { type: "string" },
                            country: { type: "string" },
                            marketPrice: { type: "number" },
                            bid: { type: "number" },
                            ask: { type: "number" },
                            isLive: { type: "boolean" },
                            fitchRating: { type: "string" },
                            moodysRating: { type: "string" },
                            tradeDate: { type: "date" },
                            settlementDate: { type: "date" },
                            bloombergAsk: { type: "number" },
                            bloombergBid: { type: "number" },
                            indicativeAsk: { type: "number" },
                            indicativeBid: { type: "number" },
                            delta: { type: "number" },
                            occasionalPrice: { type: "number" },
                            bookingGuid: { type: "string" },
                            lastUpdated: { type: "date" },
                            lastUpdatedBy: { type: "string" }
                        }
                    }
                }
            },
            columns:
            [
                { field: "tradeId", title: "ID" },
                { field: "notional", title: "Notional", format: "{0:c}", attributes: { style: "text-align:right;" } },
                { field: "deskId", title: "Desk ID" },
                { field: "counterparty", title: "Counterparty" },
                { field: "currency", title: "Currency" },
                { field: "country", title: "Country" },
                { field: "marketPrice", title: "Market Price" },
                { field: "bid", title: "Bid" },
                { field: "ask", title: "Ask" },
                {
                    field: "isLive", title: "Is Live",
                    template: '<input type="checkbox" #= isLive ? checked="checked" : "" # disabled="disabled" ></input>'
                },
                { field: "fitchRating", title: "Fitch Rating"},
                { field: "moodysRating", title: "Moodys Rating" },
                { field: "tradeDate", title: "Trade Date", format: "{0:G}" },
                { field: "settlementDate", title: "Settlement Date", format: "{0:d}" },
                { field: "bloombergAsk", title: "Bloomberg Ask" },
                { field: "bloombergBid", title: "Bloomberg Bid" },
                { field: "indicativeAsk", title: "Indicative Ask" },
                { field: "indicativeBid", title: "Indicative Bid" },
                { field: "delta", format: "{0:n4}", title: "Delta" },
                { field: "occasionalPrice", title: "Occasional Price" },
                { field: "bookingGuid", title: "Booking Guid" },
                { field: "lastUpdated", title: "Last Update", format: "{0:G}" },
                { field: "lastUpdatedBy", title: "Last Updated By" }
            ],
            selectable: "multiple cell",
            sortable: true,
            reorderable: true,
            navigatable: true,
            resizable: true,
            scrollable: false,
            filterable: true,
    editable : true
        });

    var grid = $("#grid").data("kendoGrid");
    var container = document.getElementById('content');
    var blotter = new adaptableblotterkendo.AdaptableBlotter(grid,container);

</script>
</body>

</html>